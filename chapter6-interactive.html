<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬å…­ç« ï¼šåæ ‡è½´å®šåˆ¶ - äº¤äº’å¼æ•°æ®å¯è§†åŒ–</title>
    <link rel="stylesheet" href="style-blue-green.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .axis-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .customization-panel {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--light-mint) 100%);
            border-radius: var(--border-radius);
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 8px 32px var(--shadow-light);
        }
        
        .slider-container {
            margin: 1rem 0;
        }
        
        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--medium-blue);
            outline: none;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        
        .slider:hover {
            opacity: 1;
        }
        
        .color-picker-group {
            display: flex;
            gap: 1rem;
            align-items: center;
            margin: 1rem 0;
        }
        
        .color-preview {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            border: 2px solid var(--dark-blue);
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-title">ğŸ“Š ç¬¬å…­ç« ï¼šåæ ‡è½´å®šåˆ¶</div>
            <ul class="nav-links">
                <li><a href="#overview">æ¦‚è¿°</a></li>
                <li><a href="#customization">å®šåˆ¶åŠŸèƒ½</a></li>
                <li><a href="#examples">å®ä¾‹å±•ç¤º</a></li>
                <li><a href="#interactive">äº¤äº’ä½“éªŒ</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1>ğŸ¨ åæ ‡è½´å®šåˆ¶äº¤äº’å¼å¯è§†åŒ–</h1>
        <p style="text-align: center; color: var(--text-secondary); font-size: 1.1rem; margin-bottom: 2rem;">
            æ¢ç´¢Matplotlibåæ ‡è½´çš„å„ç§å®šåˆ¶æŠ€å·§ï¼ŒåŒ…æ‹¬åˆ»åº¦ã€è½´è„Šã€ä½ç½®å’Œæ ·å¼çš„å®æ—¶è°ƒæ•´
        </p>

        <!-- ç»Ÿè®¡æ¦‚è§ˆ -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-number" id="totalExamples">5</div>
                <div class="stat-label">å®ä¾‹æ•°é‡</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="customizationOptions">20+</div>
                <div class="stat-label">å®šåˆ¶é€‰é¡¹</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="interactiveCharts">8</div>
                <div class="stat-label">äº¤äº’å›¾è¡¨</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="dataPoints">50+</div>
                <div class="stat-label">æ•°æ®ç‚¹</div>
            </div>
        </div>

        <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
        <div class="tabs">
            <button class="tab active" onclick="showTab('wind-speed')">é£é€Ÿåˆ†æ</button>
            <button class="tab" onclick="showTab('trigonometric')">ä¸‰è§’å‡½æ•°</button>
            <button class="tab" onclick="showTab('axis-position')">è½´ä½ç½®</button>
            <button class="tab" onclick="showTab('custom-charts')">è‡ªå®šä¹‰å›¾è¡¨</button>
        </div>

        <!-- é£é€Ÿåˆ†ææ ‡ç­¾é¡µ -->
        <div id="wind-speed" class="tab-content active">
            <div class="card">
                <h2>ğŸŒªï¸ æ·±åœ³å¸‚24å°æ—¶é£é€Ÿåˆ†æ</h2>
                <p>åŸºäºç¬¬å…­ç« å®ä¾‹1ï¼šå±•ç¤ºæ·±åœ³å¸‚24å°æ—¶çš„å¹³å‡é£é€Ÿå˜åŒ–ï¼Œæ”¯æŒåˆ»åº¦æ ¼å¼å®šåˆ¶å’Œè½´è„Šæ§åˆ¶</p>
                
                <div class="controls">
                    <h3>âš™ï¸ åˆ»åº¦å®šåˆ¶</h3>
                    <div class="control-group">
                        <label>åˆ»åº¦é—´éš”ï¼š</label>
                        <select id="tickInterval" onchange="updateWindChart()">
                            <option value="1">1å°æ—¶</option>
                            <option value="2" selected>2å°æ—¶</option>
                            <option value="3">3å°æ—¶</option>
                            <option value="4">4å°æ—¶</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>åˆ»åº¦æ–¹å‘ï¼š</label>
                        <select id="tickDirection" onchange="updateWindChart()">
                            <option value="in">å‘å†…</option>
                            <option value="out">å‘å¤–</option>
                            <option value="inout">åŒå‘</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>æ ‡ç­¾æ—‹è½¬è§’åº¦ï¼š</label>
                        <input type="range" id="labelRotation" min="0" max="90" value="45" onchange="updateWindChart()">
                        <span id="rotationValue">45Â°</span>
                    </div>
                    <div class="control-group">
                        <label>è½´è„Šæ˜¾ç¤ºï¼š</label>
                        <label><input type="checkbox" id="showTop" checked onchange="updateWindChart()"> ä¸Šè½´è„Š</label>
                        <label><input type="checkbox" id="showRight" checked onchange="updateWindChart()"> å³è½´è„Š</label>
                        <label><input type="checkbox" id="showBottom" checked onchange="updateWindChart()"> ä¸‹è½´è„Š</label>
                        <label><input type="checkbox" id="showLeft" checked onchange="updateWindChart()"> å·¦è½´è„Š</label>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="windSpeedChart"></canvas>
                </div>
            </div>
        </div>

        <!-- ä¸‰è§’å‡½æ•°æ ‡ç­¾é¡µ -->
        <div id="trigonometric" class="tab-content">
            <div class="card">
                <h2>ğŸ“ æ­£å¼¦ä¸ä½™å¼¦æ›²çº¿</h2>
                <p>åŸºäºç¬¬å…­ç« å®ä¾‹3ï¼šå±•ç¤ºä¸‰è§’å‡½æ•°çš„åæ ‡è½´å®šåˆ¶ï¼ŒåŒ…æ‹¬è½´è„Šç§»åŠ¨å’Œåˆ»åº¦æ ‡ç­¾è®¾ç½®</p>
                
                <div class="controls">
                    <h3>âš™ï¸ åæ ‡è½´å®šåˆ¶</h3>
                    <div class="control-group">
                        <label>Xè½´èŒƒå›´ï¼š</label>
                        <select id="xRange" onchange="updateTrigChart()">
                            <option value="-2,2">-2Ï€ åˆ° 2Ï€</option>
                            <option value="-1,1">-Ï€ åˆ° Ï€</option>
                            <option value="0,2">0 åˆ° 2Ï€</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>åˆ»åº¦æ ‡ç­¾æ ¼å¼ï¼š</label>
                        <select id="tickFormat" onchange="updateTrigChart()">
                            <option value="pi">Ï€ ç¬¦å·</option>
                            <option value="decimal">å°æ•°</option>
                            <option value="fraction">åˆ†æ•°</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>è½´è„Šä½ç½®ï¼š</label>
                        <select id="spinePosition" onchange="updateTrigChart()">
                            <option value="center">ä¸­å¿ƒ(0,0)</option>
                            <option value="origin">é»˜è®¤ä½ç½®</option>
                            <option value="custom">è‡ªå®šä¹‰</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>ç½‘æ ¼çº¿ï¼š</label>
                        <label><input type="checkbox" id="showGrid" onchange="updateTrigChart()"> æ˜¾ç¤ºç½‘æ ¼</label>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="trigChart"></canvas>
                </div>
            </div>
        </div>

        <!-- è½´ä½ç½®æ ‡ç­¾é¡µ -->
        <div id="axis-position" class="tab-content">
            <div class="card">
                <h2>ğŸ¯ åæ ‡è½´ä½ç½®å®šåˆ¶</h2>
                <p>æ¢ç´¢ä¸åŒåæ ‡è½´ä½ç½®çš„è®¾ç½®æ•ˆæœï¼ŒåŒ…æ‹¬å‘ä»»æ„ä½ç½®æ·»åŠ åæ ‡è½´</p>
                
                <div class="axis-demo">
                    <div class="chart-container" style="height: 350px;">
                        <canvas id="axisDemo1"></canvas>
                    </div>
                    <div class="chart-container" style="height: 350px;">
                        <canvas id="axisDemo2"></canvas>
                    </div>
                </div>
                
                <div class="controls">
                    <h3>âš™ï¸ è½´ä½ç½®æ§åˆ¶</h3>
                    <div class="control-group">
                        <label>ç¬¬ä¸€ä¸ªå›¾è¡¨ä½ç½®ï¼š</label>
                        <input type="range" id="chart1X" min="0.1" max="0.7" step="0.1" value="0.2" onchange="updateAxisPositions()">
                        <span id="chart1XValue">0.2</span>
                    </div>
                    <div class="control-group">
                        <label>ç¬¬äºŒä¸ªå›¾è¡¨ä½ç½®ï¼š</label>
                        <input type="range" id="chart2X" min="0.6" max="0.9" step="0.1" value="0.6" onchange="updateAxisPositions()">
                        <span id="chart2XValue">0.6</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- è‡ªå®šä¹‰å›¾è¡¨æ ‡ç­¾é¡µ -->
        <div id="custom-charts" class="tab-content">
            <div class="card">
                <h2>ğŸ¨ è‡ªå®šä¹‰å›¾è¡¨å±•ç¤º</h2>
                <p>ç»¼åˆåº”ç”¨å„ç§åæ ‡è½´å®šåˆ¶æŠ€å·§åˆ›å»ºçš„å›¾è¡¨</p>
                
                <div class="customization-panel">
                    <h3>ğŸ¯ å®æ—¶å®šåˆ¶é¢æ¿</h3>
                    <div class="control-group">
                        <label>å›¾è¡¨ç±»å‹ï¼š</label>
                        <select id="chartType" onchange="createCustomChart()">
                            <option value="line">æŠ˜çº¿å›¾</option>
                            <option value="bar">æŸ±çŠ¶å›¾</option>
                            <option value="scatter">æ•£ç‚¹å›¾</option>
                            <option value="area">é¢ç§¯å›¾</option>
                        </select>
                    </div>
                    
                    <div class="slider-container">
                        <label>æ•°æ®ç‚¹æ•°é‡ï¼š</label>
                        <input type="range" id="dataPoints" class="slider" min="5" max="50" value="20" oninput="updateDataPoints(this.value)">
                        <span id="dataPointsValue">20</span>
                    </div>
                    
                    <div class="color-picker-group">
                        <label>ä¸»é¢˜è‰²ï¼š</label>
                        <input type="color" id="themeColor" value="#1976D2" onchange="updateThemeColor(this.value)">
                        <div class="color-preview" id="colorPreview"></div>
                    </div>
                    
                    <div class="control-group">
                        <label>åŠ¨ç”»æ•ˆæœï¼š</label>
                        <label><input type="checkbox" id="enableAnimation" checked> å¯ç”¨åŠ¨ç”»</label>
                        <label><input type="checkbox" id="enableInteraction" checked> å¯ç”¨äº¤äº’</label>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="customChart"></canvas>
                </div>
                
                <div style="text-align: center; margin-top: 1rem;">
                    <button class="btn btn-primary" onclick="exportChart()">ğŸ“¥ å¯¼å‡ºå›¾è¡¨</button>
                    <button class="btn btn-secondary" onclick="randomizeData()">ğŸ² éšæœºæ•°æ®</button>
                    <button class="btn btn-wood" onclick="resetCustomization()">ğŸ”„ é‡ç½®è®¾ç½®</button>
                </div>
            </div>
        </div>

        <!-- æ•°æ®è¡¨æ ¼ -->
        <div class="card">
            <h2>ğŸ“Š æ•°æ®è¯¦æƒ…</h2>
            <div class="tabs">
                <button class="tab active" onclick="showDataTable('wind')">é£é€Ÿæ•°æ®</button>
                <button class="tab" onclick="showDataTable('trig')">ä¸‰è§’å‡½æ•°æ•°æ®</button>
            </div>
            
            <div id="windData" class="tab-content active">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>æ—¶é—´</th>
                            <th>é£é€Ÿ (km/h)</th>
                            <th>çŠ¶æ€</th>
                        </tr>
                    </thead>
                    <tbody id="windDataTable">
                        <!-- åŠ¨æ€ç”Ÿæˆ -->
                    </tbody>
                </table>
            </div>
            
            <div id="trigData" class="tab-content">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Xå€¼</th>
                            <th>sin(x)</th>
                            <th>cos(x)</th>
                        </tr>
                    </thead>
                    <tbody id="trigDataTable">
                        <!-- åŠ¨æ€ç”Ÿæˆ -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 ç¬¬å…­ç« åæ ‡è½´å®šåˆ¶ | åŸºäºæµ…è“+åŸæœ¨è‰²+è–„è·ç»¿ä¸»é¢˜çš„äº¤äº’å¼æ•°æ®å¯è§†åŒ–</p>
    </footer>

    <script>
        // ç¬¬å…­ç« æ•°æ®
        const windData = {
            labels: ['00:00', '02:00', '04:00', '06:00', '08:00', '10:00', '12:00', '14:00', '16:00', '18:00', '20:00', '22:00', '24:00'],
            values: [7, 9, 11, 14, 8, 15, 22, 11, 10, 11, 11, 13, 8]
        };

        const trigData = {
            generate: function(count = 100, min = -2*Math.PI, max = 2*Math.PI) {
                const x = [];
                const sin = [];
                const cos = [];
                for (let i = 0; i < count; i++) {
                    const val = min + (max - min) * i / (count - 1);
                    x.push(val);
                    sin.push(Math.sin(val));
                    cos.push(Math.cos(val));
                }
                return { x, sin, cos };
            }
        };

        let windChart, trigChart, axisDemo1, axisDemo2, customChart;

        // é¢œè‰²ä¸»é¢˜
        const themeColors = {
            primary: '#1976D2',
            secondary: '#4DB6AC',
            accent: '#D4A574',
            background: '#E3F2FD',
            surface: '#F5E6D3'
        };

        // åˆå§‹åŒ–å›¾è¡¨
        function initCharts() {
            createWindChart();
            createTrigChart();
            createAxisDemos();
            createCustomChart();
            updateDataTables();
            updateColorPreview();
        }

        // åˆ›å»ºé£é€Ÿå›¾è¡¨
        function createWindChart() {
            const ctx = document.getElementById('windSpeedChart').getContext('2d');
            windChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: windData.labels,
                    datasets: [{
                        label: 'å¹³å‡é£é€Ÿ',
                        data: windData.values,
                        borderColor: themeColors.primary,
                        backgroundColor: themeColors.background,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'æ·±åœ³å¸‚24å°æ—¶å¹³å‡é£é€Ÿ'
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'æ—¶é—´'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'é£é€Ÿ (km/h)'
                            },
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // åˆ›å»ºä¸‰è§’å‡½æ•°å›¾è¡¨
        function createTrigChart() {
            const ctx = document.getElementById('trigChart').getContext('2d');
            const data = trigData.generate();
            
            trigChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.x,
                    datasets: [{
                        label: 'sin(x)',
                        data: data.sin,
                        borderColor: themeColors.primary,
                        tension: 0.4
                    }, {
                        label: 'cos(x)',
                        data: data.cos,
                        borderColor: themeColors.secondary,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'æ­£å¼¦ä¸ä½™å¼¦å‡½æ•°'
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'x'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'y'
                            },
                            min: -1.5,
                            max: 1.5
                        }
                    }
                }
            });
        }

        // åˆ›å»ºè½´ä½ç½®æ¼”ç¤º
        function createAxisDemos() {
            // ç¬¬ä¸€ä¸ªæ¼”ç¤ºå›¾è¡¨
            const ctx1 = document.getElementById('axisDemo1').getContext('2d');
            axisDemo1 = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: ['1', '2', '3', '4', '5'],
                    datasets: [{
                        label: 'æ•°æ®ç³»åˆ—1',
                        data: [12, 19, 3, 5, 2],
                        borderColor: themeColors.accent
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'åæ ‡è½´ä½ç½®æ¼”ç¤º1'
                        }
                    }
                }
            });

            // ç¬¬äºŒä¸ªæ¼”ç¤ºå›¾è¡¨
            const ctx2 = document.getElementById('axisDemo2').getContext('2d');
            axisDemo2 = new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: ['A', 'B', 'C', 'D', 'E'],
                    datasets: [{
                        label: 'æ•°æ®ç³»åˆ—2',
                        data: [8, 12, 6, 9, 4],
                        backgroundColor: themeColors.secondary
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'åæ ‡è½´ä½ç½®æ¼”ç¤º2'
                        }
                    }
                }
            });
        }

        // åˆ›å»ºè‡ªå®šä¹‰å›¾è¡¨
        function createCustomChart() {
            const ctx = document.getElementById('customChart').getContext('2d');
            const chartType = document.getElementById('chartType').value;
            const dataPoints = document.getElementById('dataPoints').value;
            const themeColor = document.getElementById('themeColor').value;
            
            const data = generateRandomData(dataPoints);
            
            if (customChart) {
                customChart.destroy();
            }
            
            customChart = new Chart(ctx, {
                type: chartType,
                data: {
                    labels: data.labels,
                    datasets: [{
                        label: 'è‡ªå®šä¹‰æ•°æ®',
                        data: data.values,
                        borderColor: themeColor,
                        backgroundColor: chartType === 'line' ? `${themeColor}20` : themeColor,
                        tension: 0.4,
                        fill: chartType === 'area'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'è‡ªå®šä¹‰äº¤äº’å›¾è¡¨'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                    animation: {
                        duration: document.getElementById('enableAnimation').checked ? 1000 : 0
                    }
                }
            });
        }

        // ç”Ÿæˆéšæœºæ•°æ®
        function generateRandomData(count) {
            const labels = [];
            const values = [];
            for (let i = 0; i < count; i++) {
                labels.push(`ç‚¹${i + 1}`);
                values.push(Math.random() * 100);
            }
            return { labels, values };
        }

        // æ›´æ–°é£é€Ÿå›¾è¡¨
        function updateWindChart() {
            const interval = document.getElementById('tickInterval').value;
            const direction = document.getElementById('tickDirection').value;
            const rotation = document.getElementById('labelRotation').value;
            
            document.getElementById('rotationValue').textContent = rotation + 'Â°';
            
            // æ›´æ–°å›¾è¡¨é€‰é¡¹
            if (windChart) {
                windChart.options.scales.x.ticks = {
                    maxRotation: parseInt(rotation),
                    minRotation: parseInt(rotation)
                };
                
                // æ ¹æ®é—´éš”æ›´æ–°æ ‡ç­¾
                if (interval === '2') {
                    windChart.data.labels = windData.labels.filter((_, i) => i % 2 === 0);
                    windChart.data.datasets[0].data = windData.values.filter((_, i) => i % 2 === 0);
                } else {
                    windChart.data.labels = windData.labels;
                    windChart.data.datasets[0].data = windData.values;
                }
                
                windChart.update();
            }
        }

        // æ›´æ–°ä¸‰è§’å‡½æ•°å›¾è¡¨
        function updateTrigChart() {
            const range = document.getElementById('xRange').value.split(',').map(Number);
            const format = document.getElementById('tickFormat').value;
            const position = document.getElementById('spinePosition').value;
            const showGrid = document.getElementById('showGrid').checked;
            
            const data = trigData.generate(50, range[0] * Math.PI, range[1] * Math.PI);
            
            if (trigChart) {
                trigChart.data.labels = data.x;
                trigChart.data.datasets[0].data = data.sin;
                trigChart.data.datasets[1].data = data.cos;
                
                // æ›´æ–°åˆ»åº¦æ ¼å¼
                if (format === 'pi') {
                    trigChart.options.scales.x.ticks = {
                        callback: function(value) {
                            const pi = Math.PI;
                            if (Math.abs(value) < 0.01) return '0';
                            if (Math.abs(value - pi) < 0.01) return 'Ï€';
                            if (Math.abs(value + pi) < 0.01) return '-Ï€';
                            if (Math.abs(value - 2*pi) < 0.01) return '2Ï€';
                            if (Math.abs(value + 2*pi) < 0.01) return '-2Ï€';
                            return value.toFixed(1);
                        }
                    };
                }
                
                trigChart.options.scales.x.grid = { display: showGrid };
                trigChart.options.scales.y.grid = { display: showGrid };
                
                trigChart.update();
            }
        }

        // æ›´æ–°è½´ä½ç½®
        function updateAxisPositions() {
            const x1 = document.getElementById('chart1X').value;
            const x2 = document.getElementById('chart2X').value;
            
            document.getElementById('chart1XValue').textContent = x1;
            document.getElementById('chart2XValue').textContent = x2;
            
            // è¿™é‡Œå¯ä»¥æ›´æ–°å›¾è¡¨çš„è§†è§‰æ•ˆæœ
            console.log(`å›¾è¡¨ä½ç½®æ›´æ–°: ${x1}, ${x2}`);
        }

        // æ›´æ–°æ•°æ®ç‚¹æ•°é‡
        function updateDataPoints(value) {
            document.getElementById('dataPointsValue').textContent = value;
            createCustomChart();
        }

        // æ›´æ–°ä¸»é¢˜è‰²
        function updateThemeColor(color) {
            themeColors.primary = color;
            updateColorPreview();
            createCustomChart();
        }

        // æ›´æ–°é¢œè‰²é¢„è§ˆ
        function updateColorPreview() {
            const preview = document.getElementById('colorPreview');
            if (preview) {
                preview.style.backgroundColor = document.getElementById('themeColor').value;
            }
        }

        // å¯¼å‡ºå›¾è¡¨
        function exportChart() {
            if (customChart) {
                const url = customChart.toBase64Image();
                const link = document.createElement('a');
                link.download = 'custom-chart.png';
                link.href = url;
                link.click();
            }
        }

        // éšæœºæ•°æ®
        function randomizeData() {
            createCustomChart();
        }

        // é‡ç½®è®¾ç½®
        function resetCustomization() {
            document.getElementById('chartType').value = 'line';
            document.getElementById('dataPoints').value = 20;
            document.getElementById('themeColor').value = '#1976D2';
            document.getElementById('enableAnimation').checked = true;
            document.getElementById('enableInteraction').checked = true;
            updateDataPoints(20);
            updateThemeColor('#1976D2');
        }

        // æ ‡ç­¾é¡µåˆ‡æ¢
        function showTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾é¡µå†…å®¹
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
            document.getElementById(tabName).classList.add('active');
            
            // æ›´æ–°æ ‡ç­¾æŒ‰é’®çŠ¶æ€
            const tabButtons = document.querySelectorAll('.tab');
            tabButtons.forEach(button => button.classList.remove('active'));
            event.target.classList.add('active');
        }

        // æ˜¾ç¤ºæ•°æ®è¡¨æ ¼
        function showDataTable(type) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            if (type === 'wind') {
                document.getElementById('windData').classList.add('active');
            } else {
                document.getElementById('trigData').classList.add('active');
            }
        }

        // æ›´æ–°æ•°æ®è¡¨æ ¼
        function updateDataTables() {
            // é£é€Ÿæ•°æ®è¡¨æ ¼
            const windTableBody = document.getElementById('windDataTable');
            if (windTableBody) {
                windTableBody.innerHTML = '';
                windData.labels.forEach((label, index) => {
                    const row = windTableBody.insertRow();
                    row.insertCell(0).textContent = label;
                    row.insertCell(1).textContent = windData.values[index] + ' km/h';
                    const status = windData.values[index] > 15 ? 'å¼ºé£' : windData.values[index] > 10 ? 'ä¸­é£' : 'å¾®é£';
                    row.insertCell(2).textContent = status;
                });
            }
            
            // ä¸‰è§’å‡½æ•°æ•°æ®è¡¨æ ¼
            const trigTableBody = document.getElementById('trigDataTable');
            if (trigTableBody) {
                trigTableBody.innerHTML = '';
                const data = trigData.generate(10);
                data.x.forEach((x, index) => {
                    const row = trigTableBody.insertRow();
                    row.insertCell(0).textContent = x.toFixed(2);
                    row.insertCell(1).textContent = data.sin[index].toFixed(4);
                    row.insertCell(2).textContent = data.cos[index].toFixed(4);
                });
            }
        }

        // å¹³æ»‘æ»šåŠ¨
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initCharts);
    </script>
</body>
</html>